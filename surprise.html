<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- ============================================================
       FINAL SURPRISE PAGE â€” surprise.html

       HOW TO EDIT:
       â€¢ Find "âœï¸ EDIT" comments throughout the file
       â€¢ Change the hidden romantic message below
       â€¢ Change the final large message
       â€¢ Change the button text if you like
       ============================================================ -->

  <title>One Last Thingâ€¦</title>
  <link rel="stylesheet" href="style.css" />
  <style>

    /* â”€â”€ Page Layout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .surprise-page {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 120px 1.5rem 5rem;
      text-align: center;
      position: relative;
      z-index: 2;
    }

    /* Deep ambient background */
    .surprise-page::before {
      content: '';
      position: fixed;
      inset: 0;
      background:
        radial-gradient(ellipse at 50% 40%,
          rgba(201, 168, 76, 0.08) 0%,
          rgba(107, 33, 168, 0.15) 30%,
          rgba(255, 107, 157, 0.06) 60%,
          transparent 80%);
      pointer-events: none;
      animation: ambientShift 8s ease-in-out infinite alternate;
    }

    @keyframes ambientShift {
      from { opacity: 0.7; }
      to   { opacity: 1.0; }
    }

    /* â”€â”€ Chapter Label â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .chapter-label {
      font-family: var(--font-display);
      font-size: 0.6rem;
      letter-spacing: 0.45em;
      text-transform: uppercase;
      color: var(--gold-dim);
      margin-bottom: 1.2rem;
    }

    /* â”€â”€ Pre-Reveal Section â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .pre-reveal {
      max-width: 600px;
      transition: opacity 0.8s ease, transform 0.8s ease;
    }

    .pre-reveal.hidden {
      opacity: 0;
      pointer-events: none;
      transform: scale(0.95);
    }

    .tease-text {
      font-family: var(--font-elegant);
      font-size: clamp(1rem, 2.5vw, 1.3rem);
      font-style: italic;
      color: var(--text-secondary);
      margin: 1.5rem 0 3rem;
      line-height: 1.9;
    }

    /* â”€â”€ The Big Reveal Button â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .btn-reveal {
      font-family: var(--font-display);
      font-size: 0.8rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: var(--pink-soft);
      padding: 1.3rem 3.5rem;
      border: 1px solid rgba(255, 107, 157, 0.4);
      background: transparent;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      transition: var(--transition-medium);
      display: inline-block;
      animation: revealBtnPulse 2.5s ease-in-out infinite;
    }

    @keyframes revealBtnPulse {
      0%, 100% {
        box-shadow: 0 0 20px rgba(255,107,157,0.2),
                    0 0 60px rgba(255,107,157,0.1),
                    inset 0 0 20px rgba(255,107,157,0.05);
        border-color: rgba(255,107,157,0.4);
      }
      50% {
        box-shadow: 0 0 40px rgba(255,107,157,0.5),
                    0 0 100px rgba(255,107,157,0.25),
                    inset 0 0 30px rgba(255,107,157,0.1);
        border-color: rgba(255,107,157,0.8);
      }
    }

    .btn-reveal::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg,
        rgba(255,107,157,0) 0%,
        rgba(255,107,157,0.15) 50%,
        rgba(255,107,157,0) 100%);
      transform: translateX(-100%);
      transition: transform 0.7s ease;
    }

    .btn-reveal:hover {
      border-color: var(--pink-glow);
      box-shadow: var(--glow-pink);
      color: var(--pink-pale);
      transform: translateY(-3px);
    }

    .btn-reveal:hover::before { transform: translateX(100%); }

    /* â”€â”€ Reveal Container â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .reveal-container {
      max-width: 750px;
      width: 100%;
      opacity: 0;
      transform: scale(0.9) translateY(30px);
      pointer-events: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.9);
      padding: 1.5rem;
      transition: opacity 1.2s ease, transform 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .reveal-container.visible {
      opacity: 1;
      pointer-events: all;
      transform: translate(-50%, -50%) scale(1);
    }

    /* â”€â”€ Reveal Message Box â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .reveal-box {
      padding: 4rem 3.5rem;
      background: linear-gradient(160deg,
        rgba(5, 5, 8, 0.98) 0%,
        rgba(20, 8, 36, 0.97) 50%,
        rgba(5, 5, 8, 0.98) 100%);
      border: 1px solid transparent;
      background-clip: padding-box;
      position: relative;
      box-shadow: var(--glow-pink),
                  var(--glow-gold),
                  0 60px 150px rgba(0,0,0,0.9);
    }

    /* Animated rainbow border */
    .reveal-box::before {
      content: '';
      position: absolute;
      inset: -2px;
      background: linear-gradient(135deg,
        var(--gold) 0%,
        var(--pink-glow) 25%,
        var(--purple-glow) 50%,
        var(--pink-glow) 75%,
        var(--gold) 100%);
      background-size: 300% 300%;
      z-index: -1;
      border-radius: 0;
      animation: borderGlow 4s linear infinite;
    }

    @keyframes borderGlow {
      0%   { background-position: 0%   50%; }
      50%  { background-position: 100% 50%; }
      100% { background-position: 0%   50%; }
    }

    .reveal-box::after {
      content: '';
      position: absolute;
      inset: 16px;
      border: 1px solid rgba(201, 168, 76, 0.12);
      pointer-events: none;
    }

    /* â”€â”€ Reveal Heart Burst â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .reveal-heart-burst {
      font-size: 4rem;
      display: block;
      margin-bottom: 1.5rem;
      animation: heartBurst 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s both,
                 heartFloat 3s ease-in-out 1.1s infinite;
      color: var(--pink-glow);
      filter: drop-shadow(0 0 20px rgba(255,107,157,0.8))
              drop-shadow(0 0 50px rgba(255,107,157,0.4));
    }

    @keyframes heartBurst {
      from { transform: scale(0) rotate(-30deg); opacity: 0; }
      to   { transform: scale(1) rotate(0deg);   opacity: 1; }
    }

    @keyframes heartFloat {
      0%, 100% { transform: translateY(0) scale(1); }
      50%       { transform: translateY(-10px) scale(1.05); }
    }

    /* â”€â”€ Hidden Message â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .hidden-message {
      font-family: var(--font-elegant);
      font-size: clamp(1rem, 2.5vw, 1.25rem);
      font-style: italic;
      color: var(--text-primary);
      line-height: 2;
      margin-bottom: 2.5rem;
      opacity: 0;
      animation: none;
    }

    .hidden-message.animated {
      animation: revealMsg 1.5s ease 0.6s forwards;
    }

    .hidden-message em {
      color: var(--gold-light);
      text-shadow: 0 0 15px rgba(201,168,76,0.4);
    }

    .hidden-message strong {
      color: var(--pink-soft);
      font-style: normal;
    }

    @keyframes revealMsg {
      from { opacity: 0; transform: translateY(20px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    /* â”€â”€ Divider â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .reveal-divider {
      font-size: 0.6rem;
      letter-spacing: 0.8em;
      color: var(--gold-dim);
      margin: 2rem 0;
      display: block;
      opacity: 0;
    }

    .reveal-divider.animated {
      animation: revealMsg 1.5s ease 1.2s forwards;
    }

    /* â”€â”€ Final Big Message â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .final-message {
      font-family: var(--font-display);
      font-size: clamp(1.8rem, 5.5vw, 4rem);
      font-weight: 600;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      line-height: 1.2;
      color: transparent;
      background: linear-gradient(135deg,
        var(--gold) 0%,
        var(--gold-pale) 30%,
        var(--pink-soft) 60%,
        var(--gold-light) 100%);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      filter: drop-shadow(0 0 20px rgba(201,168,76,0.4));
      margin-bottom: 1rem;
      opacity: 0;
    }

    .final-message.animated {
      animation: finalMsgReveal 2s ease 1.8s forwards;
    }

    @keyframes finalMsgReveal {
      from {
        opacity: 0;
        transform: scale(0.8) translateY(20px);
        filter: drop-shadow(0 0 0px transparent);
      }
      to {
        opacity: 1;
        transform: scale(1) translateY(0);
        filter: drop-shadow(0 0 30px rgba(201,168,76,0.6))
                drop-shadow(0 0 60px rgba(255,107,157,0.3));
      }
    }

    /* â”€â”€ Sub Final â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .final-sub {
      font-family: var(--font-elegant);
      font-size: clamp(0.9rem, 2vw, 1.1rem);
      font-style: italic;
      color: var(--text-secondary);
      opacity: 0;
    }

    .final-sub.animated {
      animation: revealMsg 1.5s ease 2.6s forwards;
    }

    /* â”€â”€ Navigate Back â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .nav-back {
      margin-top: 3rem;
      opacity: 0;
    }

    .nav-back.animated {
      animation: revealMsg 1.5s ease 3.2s forwards;
    }

    /* â”€â”€ Spinning ring effect â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .ring-decoration {
      position: absolute;
      width: 300px;
      height: 300px;
      border-radius: 50%;
      border: 1px solid rgba(201, 168, 76, 0.06);
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      pointer-events: none;
      animation: spinRing 20s linear infinite;
    }

    .ring-decoration:nth-child(2) {
      width: 450px;
      height: 450px;
      border-color: rgba(255,107,157,0.04);
      animation-direction: reverse;
      animation-duration: 30s;
    }

    @keyframes spinRing { from { transform: translate(-50%,-50%) rotate(0deg); } to { transform: translate(-50%,-50%) rotate(360deg); } }

    /* â”€â”€ Mobile â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @media (max-width: 600px) {
      .reveal-box {
        padding: 2.5rem 1.5rem;
      }
      .reveal-container {
        padding: 0.5rem;
      }
    }
  </style>
</head>
<body>

  <canvas id="star-canvas"></canvas>
  <div class="hearts-container"></div>
  <div class="page-transition active"></div>

  <nav class="luxury-nav">
    <ul class="nav-links">
      <li><a href="index.html">Home</a></li>
      <li><a href="memories.html">Memories</a></li>
      <li><span class="nav-heart">â¤</span></li>
      <li><a href="letter.html">Letter</a></li>
      <li><a href="poem.html">Poem</a></li>
      <li><a href="surprise.html">Surprise</a></li>
    </ul>
  </nav>

  <div class="page-wrapper">
    <div class="surprise-page">

      <!-- Ring decorations -->
      <div class="ring-decoration"></div>
      <div class="ring-decoration"></div>

      <!-- PRE-REVEAL STATE -->
      <div class="pre-reveal" id="pre-reveal">

        <p class="chapter-label fade-in">The Final Chapter</p>
        <h1 class="section-title fade-in fade-in-delay-1">One Last Thingâ€¦</h1>

        <div class="ornament fade-in fade-in-delay-2">
          <span class="ornament-line"></span>
          <span class="ornament-symbol">â™¥</span>
          <span class="ornament-line"></span>
        </div>

        <!-- âœï¸ EDIT: Change this teaser text before the button -->
        <p class="tease-text fade-in fade-in-delay-3">
          You've come this far through the pages of my heart.<br>
          There is one final thing I need you to know.<br>
          Are you ready?
        </p>

        <!-- âœï¸ EDIT: Change the button text if you like -->
        <button class="btn-reveal fade-in fade-in-delay-4" id="reveal-btn" onclick="triggerReveal()">
          â™¥ Open My Heart â™¥
        </button>
      </div>

      <!-- REVEAL STATE (hidden until button is clicked) -->
      <div class="reveal-container" id="reveal-container">
        <div class="reveal-box">

          <span class="reveal-heart-burst">â™¥</span>

          <!-- ===========================================================
               âœï¸ YOUR HIDDEN ROMANTIC MESSAGE GOES HERE
               ===========================================================
               This message is hidden until your girlfriend clicks the button.
               Use <em>text</em> for gold text.
               Use <strong>text</strong> for pink text.
               =========================================================== -->
          <p class="hidden-message" id="hidden-msg">
            From the moment I saw you, all those years ago... not a day has gone by where I haven't thought of you..<br><br>
            Not in a dramatic, lightningbolt way..<br>
            but in the quiet, surprised way <em>truth</em> arrives.<br><br>
            Like a door opening to a room<br>
            you didn't know you'd been looking for your whole life.<br><br>
            <strong>That room is you...</strong><br>
            That feeling is you... <br>
            <em>Every beautiful thing in my life leads back to you...</em>
          </p>
          <!-- =========================================================
               END OF HIDDEN MESSAGE
               ========================================================= -->

          <span class="reveal-divider" id="reveal-divider">âœ¦ Â· Â· Â· âœ¦</span>

          <!-- âœï¸ EDIT: Change the final BIG message below -->
          <h2 class="final-message" id="final-msg">
            You Are My Forever
          </h2>

          <!-- âœï¸ EDIT: Change the smaller closing line below -->
          <p class="final-sub" id="final-sub">
            Happy Valentine's Day, my love. Today, tomorrow, always...
          </p>

          <!-- Navigate back to start -->
          <div class="nav-back" id="nav-back">
            <a href="index.html" class="btn-luxury">
              â† Relive It From The Beginning
            </a>
          </div>

        </div>
      </div>

    </div>
  </div>

  <script src="script.js"></script>
  <script>
    // â”€â”€ Surprise Reveal Logic â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    let heartsInterval = null;
    let revealed = false;

    function triggerReveal() {
      if (revealed) return;
      revealed = true;

      const preReveal      = document.getElementById('pre-reveal');
      const revealCont     = document.getElementById('reveal-container');
      const hiddenMsg      = document.getElementById('hidden-msg');
      const revealDivider  = document.getElementById('reveal-divider');
      const finalMsg       = document.getElementById('final-msg');
      const finalSub       = document.getElementById('final-sub');
      const navBack        = document.getElementById('nav-back');

      // 1. Fade out the button section
      preReveal.classList.add('hidden');

      // 2. Intensify hearts dramatically
      intensifyHearts();

      // 3. After fade out completes, show the reveal
      setTimeout(() => {
        revealCont.classList.add('visible');

        // Trigger text animations in sequence
        setTimeout(() => hiddenMsg.classList.add('animated'),     400);
        setTimeout(() => revealDivider.classList.add('animated'), 1000);
        setTimeout(() => finalMsg.classList.add('animated'),      1600);
        setTimeout(() => finalSub.classList.add('animated'),      2500);
        setTimeout(() => navBack.classList.add('animated'),       3100);
      }, 600);
    }

    function intensifyHearts() {
      const container = document.querySelector('.hearts-container');

      // Burst of hearts on click
      for (let i = 0; i < 25; i++) {
        setTimeout(() => {
          const heart = createIntenseHeart(container);
          container.appendChild(heart);
        }, i * 80);
      }

      // Sustained intense hearts
      clearInterval(heartsInterval);
      heartsInterval = setInterval(() => {
        for (let i = 0; i < 3; i++) {
          const h = createIntenseHeart(container);
          container.appendChild(h);
          setTimeout(() => h.remove(), 14000);
        }
      }, 500);
    }

    function createIntenseHeart(container) {
      const EMOJIS = ['â™¥', 'â¤', 'ğŸ’•', 'ğŸ’–', 'ğŸ’—', 'ğŸ’', 'â£'];
      const heart  = document.createElement('span');
      heart.classList.add('heart');
      heart.textContent = EMOJIS[Math.floor(Math.random() * EMOJIS.length)];

      const size  = 1.2 + Math.random() * 2.5;
      const left  = Math.random() * 100;
      const dur   = 6 + Math.random() * 9;
      const delay = Math.random() * 1.5;
      const COLORS = ['#ff6b9d', '#c9a84c', '#ffb3cc', '#e8c97e', '#ff8fb3', '#fff'];
      const color = COLORS[Math.floor(Math.random() * COLORS.length)];

      heart.style.cssText = `
        left: ${left}%;
        font-size: ${size}rem;
        animation-duration: ${dur}s;
        animation-delay: ${delay}s;
        color: ${color};
        filter: drop-shadow(0 0 8px ${color}cc);
      `;

      return heart;
    }

    // Start with a subtle canvas ambient pulse that reacts to reveal
    document.addEventListener('DOMContentLoaded', () => {
      // Nothing special on load; let the shared script handle stars + hearts
    });
  </script>
  <!-- ğŸµ Background Music â€” paste just before </body> on every page -->
<audio id="bg-music" src="music.mp3" loop preload="auto"></audio>
<script>
  const audio = document.getElementById('bg-music');
  const savedTime = localStorage.getItem('musicTime');
  if (savedTime) audio.currentTime = parseFloat(savedTime);
  setInterval(() => {
    if (!audio.paused) localStorage.setItem('musicTime', audio.currentTime);
  }, 1000);
  document.addEventListener('click', function play() {
    audio.play();
    document.removeEventListener('click', play);
  }, { once: true });
</script>
</body>
</html>
